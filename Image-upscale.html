<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Upscaler Tool</title>
<style>
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#1e1e2f,#2b2b45);
    color:#fff;
    text-align:center;
    padding:20px;
}
.container{
    max-width:600px;
    margin:auto;
    background:#2f2f4f;
    padding:25px;
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,0,0,0.4);
}
h1{
    margin-bottom:20px;
}
input[type="file"]{
    margin:15px 0;
}
.options button{
    margin:8px;
    padding:10px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#4cafef;
    color:white;
    font-weight:bold;
}
.options button:hover{
    background:#2196f3;
}
#preview{
    margin-top:15px;
    max-width:100%;
    border-radius:10px;
}
#downloadBtn{
    display:none;
    margin-top:15px;
    padding:10px 15px;
    border:none;
    border-radius:8px;
    background:#4caf50;
    color:white;
    cursor:pointer;
}
</style>
</head>
<body>

<div class="container">
    <h1>ðŸ–¼ Image Upscaler</h1>

    <input type="file" id="upload" accept="image/*">

    <div class="options">
        <button onclick="setScale(3840)">4K Upscale</button>
        <button onclick="setScale(7680)">8K Upscale</button>
        <button onclick="setScale(15360)">16K Upscale</button>
    </div>

    <button onclick="upscaleImage()">Upscale Image</button>

    <br>
    <img id="preview">

    <br>
    <a id="downloadBtn" download="upscaled-image.png">
        <button>Download Image</button>
    </a>
</div>

<script>
let selectedWidth = 3840;
let originalImage = new Image();

document.getElementById("upload").addEventListener("change", function(e){
    const reader = new FileReader();
    reader.onload = function(event){
        originalImage.src = event.target.result;
        document.getElementById("preview").src = event.target.result;
    }
    reader.readAsDataURL(e.target.files[0]);
});

function setScale(width){
    selectedWidth = width;
    alert("Selected: " + (width/960) + "K Upscale");
}

function upscaleImage(){
    if(!originalImage.src){
        alert("Please upload an image first!");
        return;
    }

    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");

    const ratio = originalImage.height / originalImage.width;
    canvas.width = selectedWidth;
    canvas.height = selectedWidth * ratio;

    ctx.imageSmoothingEnabled = true;
    ctx.imageSmoothingQuality = "high";
    ctx.drawImage(originalImage,0,0,canvas.width,canvas.height);

    const upscaledData = canvas.toDataURL("image/png");

    document.getElementById("preview").src = upscaledData;

    const downloadLink = document.getElementById("downloadBtn");
    downloadLink.href = upscaledData;
    downloadLink.style.display = "inline-block";
}
</script>

</body>
</html>
